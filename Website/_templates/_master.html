<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<!-- <html lang="en" data-bs-theme="dark"> -->
  

<head>




          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- smile -->
  <!-- <link rel="icon" href="https://www.freepnglogos.com/uploads/smile-png/smile-april-seven-what-are-you-wearing-27.png">   -->
  <link rel="icon" href="_static/logo/smile.png">  

  <!-- tree -->
  <!-- <link rel="icon" href="https://png.pngtree.com/png-vector/20240129/ourmid/pngtree-tree-png-with-ai-generated-png-image_11566694.png">   -->
  <!-- <link rel="icon" href="https://gallery.yopriceville.com/var/resizes/Free-Clipart-Pictures/Trees-PNG-Clipart/Tree_PNG_Clip_Art_Image-2132254059.png?m=1629833544">   -->

  
          
          <title>
           
                    {% block title %}

                    {% endblock %}

                    {% if user.is_authenticated %}
                        |  {{user.username}}
                    {% endif %}

                    |  shivashu !!!

          </title>

          


          <!-- <meta property="og:site_name" content="Keenthemes | Ceres HTML Free" /> -->
          <!-- <link href="https://geeksui.codescandy.com/geeks/assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" /> -->
          
          <link rel="preconnect" href="https://fonts.googleapis.com">
          <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
          <link href="https://fonts.googleapis.com/css2?family=Abhaya+Libre:wght@400;500;600;700;800&family=Aboreto&family=Agbalumo&family=Alice&family=Almendra:ital,wght@0,400;0,700;1,400;1,700&family=Amita:wght@400;700&family=Arbutus+Slab&family=Averia+Serif+Libre:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Bellefair&family=Berkshire+Swash&family=Calistoga&family=Castoro:ital@0;1&family=Caudex:ital,wght@0,400;0,700;1,400;1,700&family=Croissant+One&family=Diphylleia&family=El+Messiri:wght@400..700&family=GFS+Didot&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Katibeh&family=Kurale&family=Laila:wght@300;400;500;600;700&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Lobster+Two:ital,wght@0,400;0,700;1,400;1,700&family=Marcellus&family=Marcellus+SC&family=Marmelad&family=Merienda:wght@300..900&family=Noticia+Text:ital,wght@0,400;0,700;1,400;1,700&family=PT+Serif+Caption:ital@0;1&family=Philosopher:ital,wght@0,400;0,700;1,400;1,700&family=Redressed&family=Ruwudu:wght@400;500;600;700&family=Salsa&family=Taviraj:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Tinos:ital,wght@0,400;0,700;1,400;1,700&family=Vollkorn:ital,wght@0,400..900;1,400..900&family=Young+Serif&display=swap" rel="stylesheet">

          <!-- bootstrap -->
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

          <!-- linking - font-awesome -->  <!-- search on google - "font-awesome cdn link" and go to first link  -->
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
          
          <!-- advances features -->
          <!-- https://blogzine.webestica.com/ -->
          <!-- <link rel="stylesheet" type="text/css" href="https://blogzine.webestica.com/assets/css/style.css"> -->
          <!-- <link href="https://geeksui.codescandy.com/geeks/assets/libs/bootstrap-icons/font/bootstrap-icons.min.css" rel="stylesheet"> -->

          <style>

          .prime{
                    background-image: linear-gradient(90deg, #fa5560 0%, #b14bf4 50%, #4d91ff 100%) !important; 
                    background-size: 100% !important; 
                    background-repeat: repeat !important; 
                    -webkit-background-clip: text !important; 
                    -webkit-text-fill-color: transparent !important; 
          }
          .prime-bg{
                    background-image: linear-gradient(90deg, #fa5560 0%, #b14bf4 50%, #4d91ff 100%) !important; 
          }

          header a{
                    color: white;
          }
          header a:hover{
                    color: white;
          }
          header nav a{
                    color: white !important;
          }
          header nav ul ul a{
                    color: black !important;
          }


          /* header's right side buttons */
          .btn-fame{
                    /* background-color: #4d91ff; */
                    background-color: #ffffff2f;
                    color: white;
          }
          .btn-fame:hover{
                    /* background-color: #fa5560; */
                    background-color: #ffffff4f;
                    color: white;
                    border-color: #ffffff5f;
          }

          </style>


          {% block styles %}

          {% endblock %}



</head>

<body style="font-family: 'Castoro', 'Redressed', Times, serif; background-color: black; color :white;">


          {% block content %}

          {% endblock %}



          <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
          <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/js/all.min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/js/fontawesome.min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/js/brands.min.js"></script>

          
		<!-- Optional JavaScript; choose one of the two! -->
		<!-- Option 1: Bootstrap Bundle with Popper -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
		<!-- Option 2: Separate Popper and Bootstrap JS -->
		<!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/boo tstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script> -->


                    
          {% block scripts %}

          {% endblock %}









          
{% if not user.is_authenticated %}
<!-- Load Google's One Tap script -->
<script src="https://accounts.google.com/gsi/client" async defer></script>

<script>
    let autoLoginAttempted = false;  // Track if auto-login is attempted

    window.onload = function () {
        google.accounts.id.initialize({
            client_id: "608674038178-m2afsu45qt7le6vvejra469bhvq40a1l.apps.googleusercontent.com", // <-- your client ID
            callback: handleCredentialResponse,
            auto_select: true,                     // <-- Added for Auto Sign-In
            cancel_on_tap_outside: false            // <-- Optional (optional UX improvement)
        });

        // Check if auto login is attempted
        if (!autoLoginAttempted) {
            google.accounts.id.prompt(); // show One Tap popup
            autoLoginAttempted = true;   // Flag that login has been attempted
        }
    };

    function handleCredentialResponse(response) {
        fetch('/security/google-onetap-popup-login/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}',
            },
            body: JSON.stringify({ credential: response.credential })
        })
        .then(async res => {
            if (!res.ok) {
                throw new Error('Network response was not ok');
            }
            const data = await res.json();

            if (data.message === "Login successful") {
                console.log('Login successful!');
                // window.location.reload(); 
                // window.location.href = '/';  // ðŸ‘ˆ redirect to homepage
                window.location.href = '{{request.path}}';  // ðŸ‘ˆ redirect to homepage
            } else {
                console.error('Login failed:', data.message);
                alert('Login failed!');
            }
        })
        .catch(error => {
            console.error('Login failed:', error);
            alert('Login failed!');
        });
    }
</script>
{% endif %}



</body>
</html>